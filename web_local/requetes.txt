SELECT
  r.NOM_RECETTE
FROM
  recette r,
  contenu c,
  contenu c2,
  ingredient i,
  ingredient i2
WHERE
  r.NUMERO_RECETTE = c.NUMERO_RECETTE 
  AND c.NUMERO_INGREDIENT = i.NUMERO_INGREDIENT 
  AND i.NOM_INGREDIENT = "miel" 
  AND r.NUMERO_RECETTE = c2.NUMERO_RECETTE 
  AND c2.NUMERO_INGREDIENT = i2.NUMERO_INGREDIENT 
  AND i2.NOM_INGREDIENT = "sel";





SELECT
  r.NOM_RECETTE
FROM
  recette r,
  note n
HAVING
  COUNT(
    r.NUMERO_RECETTE = n.NUMERO_RECETTE AND n.VALEUR_NOTE = 3
  ) >= 5;





SELECT
  r.NOM_RECETTE
FROM
  recette r,
  note n,
  menu m,
  composition cp,
  commentaire c
HAVING
  COUNT(
    r.NUMERO_RECETTE = n.NUMERO_RECETTE AND n.VALEUR_NOTE > 0
  ) >= 10 AND COUNT(
    r.NUMERO_RECETTE = c.NUMERO_RECETTE
  ) >= 3 AND COUNT(
    r.NUMERO_RECETTE = cp.NUMERO_RECETTE AND cp.NUMERO_MENU = m.NUMERO_MENU
  ) >= 3;





SELECT
  COUNT(*) AS Nombre
FROM
  recette r,
  appartient a,
  categorie c
WHERE
  r.NUMERO_RECETTE = a.NUMERO_RECETTE AND a.NUMERO_CATEGORIE = c.NUMERO_CATEGORIE AND r.DATE_CREATION_RECETTE > 2016 -01 -01;



SELECT
  r.NOM_RECETTE,
  AVG(n.VALEUR_NOTE) "Note moyenne"
FROM
  recette r,
  note n
WHERE
  r.NUMERO_RECETTE = n.NUMERO_RECETTE
GROUP BY
  r.NOM_RECETTE
ORDER BY
  AVG(n.VALEUR_NOTE)
DESC;